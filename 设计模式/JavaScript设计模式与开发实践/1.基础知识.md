# 基础知识

## 面向对象的 JavaScript

### 动态类型语言和鸭子类型

编程语言按照数据类型大体可以分为两类，一类是静态类型语言，另一类是动态类型语言。

静态类型语言在编译时便已确定变量的类型，而动态类型语言的变量类型要到程序运行的时候，待变量被赋予某个值之后，才会具有某种类型。

静态类型语言的优点首先是在编译时就能发现类型不匹配的错误，编辑器可以帮助我们提前避免程序在运行期间有可能发生的一些错误。

其次，如果在程序中明确地规定了数据类型，编译器还可以针对这些信息对程序进行一些优化工作，提高程序执行速度。

静态类型语言的缺点首先是迫使程序员依照强契约来编写程序，为每个变量规定数据类型，归根结底只是辅助我们编写可靠性高程序的一种手段，而不是编写程序的目的，毕竟大部分人编写程序的目的是为了完成需求交付生产。

其次，类型的声明也会增加更多的代码，在程序编写过程中，这些细节会让程序员的精力从思考业务逻辑上分散开来。

动态类型语言的优点是编写的代码数量更少，看起来也更加简洁，程序员可以把精力更多地放在业务逻辑上面。

虽然不区分类型在某些情况下会让程序变得难以理解，但整体而言，代码量越少，越专注于逻辑表达，对阅读程序是越有帮助的。

动态类型语言的缺点是无法保证变量的类型，从而在程序的运行期有可能发生跟类型相关的错误。

这好像在商店买了一包牛肉辣条，但是要真正吃到嘴里才知道是不是牛肉味。

鸭子类型：如果它走起路来像鸭子，叫起来也是鸭子，那么它就是鸭子。

### 多态

多态的实际含义是：同一操作作用于不同的对象上面，可以产生不同的解释和不同的执行结果。换句话说，给不同的对象发送同一个消息的时候，这些对象会根据这个消息分别给出不同的反馈。

多态的思想实际上是把“做什么”和“谁去做”分离开来，要实现这一点，归根结底先要消除类型之间的耦合关系。如果类型之间的耦合关系没有被消除，那么我们在makeSound方法中指定了发出叫声的对象是某个类型，它就不可能再被替换为另外一个类型。在Java中，可以通过向上转型来实现多态。

> 多态的最根本好处在于，你不必再向对象询问“你是什么类型”而后根据得到的答案调用对象的某个行为——你只管调用该行为就是了，其他的一切多态机制都会为你安排妥当。——《重构：改善既有代码的设计》

《设计模式》—— 可复用面向对象软件的基础

### 封装

封装的目的是将信息隐藏。

> 考虑你的设计中哪些地方可能变化，这种方式与关注会导致重新设计的原因相反。它不是考虑什么时候会迫使你的设计改变，而是考虑你怎样才能够在不重新设计的情况下进行改变。这里的关键在于封装发生变化的概念，这是许多设计模式的主题。” —— 《设计模式》

《设计模式》一书中共归纳总结了23种设计模式。
从意图上区分，这23种设计模式分别被划分为创建型模式、结构型模式和行为型模式。
拿创建型模式来说，要创建一个对象，是一种抽象行为，而具体创建什么对象则是可以变化的，创建型模式的目的就是封装创建对象的变化。
而结构型模式封装的是对象之间的组合关系。
行为型模式封装的是对象的行为变化。

### 原型模式和基于原型继承的 JavaScript 对象系统

原型模式不单是一种设计模式，也被称为一种编程泛型。

所有的数据都是对象。
要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆它。
对象会记住它的原型。
如果对象无法响应某个请求，它会把这个请求委托给它自己的原型。

## this、call、apply

### this

* 作为对象的方法调用。--当函数作为对象的方法被调用时，this指向该对象
* 作为普通函数调用。--当函数不作为对象的属性被调用时，也就是我们常说的普通函数方式，此时的this总是指向全局对象。
* 构造器调用。
* Function.prototype.call或Function.prototype.apply调用。

### call 和 apply

## 闭包和高阶函数

### 闭包

### 高阶函数

## 小结 